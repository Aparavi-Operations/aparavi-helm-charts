image:
  repository: aparavi.jfrog.io/public-app/app
  pullPolicy: IfNotPresent
  tag: ""

imagePullSecrets:
  []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations:
    {}
  name: ""

aggregator:
  enabled: true
  config:
    platform:
      host: ""  # HOSTNAME:PORT
      nodeId: ""
    # If left empty, will default to .Release.Name-aggregator
    nodeName: ""
    mysql:
      username: aggregator
      password: aggregator
      database: aggregator
  extraVolumes:
    []
    # - name: extras
    #   emptyDir: {}
  extraVolumeMounts:
    []
    # - name: extras
    #   mountPath: /usr/share/extras
    #   readOnly: true
  initContainers:
    []
    # - name: do-something
    #   image: busybox
    #   command: ['do', 'something']
  service:
    type: ClusterIP
    netPort: 9545
    httpPort: 9552
  podAnnotations:
    {}
  podSecurityContext:
    {}
    # fsGroup: 2000
  securityContext:
    {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000
  resources:
    {}
    # limits:
    #   cpu: 100m
    #   memory: 128Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi
  nodeSelector:
    {}
  # affinity: {}
  affinity:
    podAntiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 100
          podAffinityTerm:
            labelSelector:
              matchExpressions:
                - key: app.kubernetes.io/component
                  operator: In
                  values:
                    - collector
            topologyKey: kubernetes.io/hostname
  tolerations:
    []

collector:
  enabled: true
  config:
    aggregatorHost: ""  # HOSTNAME:PORT
    # If left empty, will default to .Release.Name-collector
    nodeName: ""
  extraVolumes:
    []
    # - name: extras
    #   emptyDir: {}
  extraVolumeMounts:
    []
    # - name: extras
    #   mountPath: /usr/share/extras
    #   readOnly: true
  initContainers:
    []
    # - name: do-something
    #   image: busybox
    #   command: ['do', 'something']
  service:
    type: ClusterIP
    netPort: 9645
    httpPort: 9652
  podAnnotations:
    {}
  podSecurityContext:
    {}
    # fsGroup: 2000
  securityContext:
    {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000
  resources:
    {}
    # limits:
    #   cpu: 100m
    #   memory: 128Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi
  nodeSelector:
    {}
  # affinity: {}
  affinity:
    podAntiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 100
          podAffinityTerm:
            labelSelector:
              matchExpressions:
                - key: app.kubernetes.io/component
                  operator: In
                  values:
                    - aggregator
            topologyKey: kubernetes.io/hostname
  tolerations:
    []

mysql:
  enabled: true
  architecture: standalone
  auth:
    database: ""
  initdbScripts:
    initdb.sql: |
      create user 'aggregator'@'%' identified by 'aggregator';
      create database aggregator;
      grant all privileges on aggregator.* to 'aggregator'@'%';
  primary:
    service:
      port: 3306

externalMysql:
  hostname: mysql
  port: 3306
